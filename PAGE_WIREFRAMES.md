# 页面结构和交互设计 - 打卡习惯 (DakaHabit)

## 1. 应用结构概览

### 1.1 信息架构
```
App Structure (应用结构)
├── 主导航 (底部Tab导航)
│   ├── 首页 (Home) - 今日概览和快速操作
│   ├── 习惯 (Habits) - 习惯管理和详情
│   ├── 统计 (Statistics) - 数据分析和图表
│   ├── 日志 (Journals) - 日记记录和关联
│   └── 设置 (Settings) - 个人设置和配置
│
├── 二级页面
│   ├── 习惯详情页
│   ├── 创建/编辑习惯页
│   ├── 日志详情页  
│   ├── 创建/编辑日志页
│   ├── 统计详情页
│   └── 各种设置页面
│
└── 弹窗和浮层
    ├── 打卡成功弹窗
    ├── 习惯模板选择器
    ├── 日期时间选择器
    ├── 图片查看器
    └── 确认对话框
```

### 1.2 页面层级
```
Page Hierarchy (页面层级)
Level 1: 主导航页面 (Tab Pages)
Level 2: 列表详情页面 (Detail Pages)  
Level 3: 编辑创建页面 (Edit/Create Pages)
Level 4: 设置配置页面 (Settings Pages)
```

## 2. 主导航页面设计

### 2.1 首页 (Home Page)
```
首页布局结构:
┌─────────────────────────────────┐
│ 状态栏                           │
├─────────────────────────────────┤
│ App Bar                         │
│ ┌─ 头像  打卡习惯 ────────── 🔔 ─┐ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 今日概览卡片                      │
│ ┌─────────────────────────────┐ │
│ │ 今日进度: ●●●○○ 3/5           │ │
│ │ 连续打卡: 12天 🔥             │ │
│ │ 完成率: 80% 📈               │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 激励语句/每日一句                 │
│ "坚持就是胜利，今天也要加油哦！"     │
├─────────────────────────────────┤
│ 今日习惯列表                      │
│ ┌─────────────────────────────┐ │
│ │ ☀️ 早起      已完成 ✅        │ │
│ │ 💧 喝水8杯   进行中 4/8       │ │
│ │ 📖 读书30分钟 未开始 ○        │ │
│ │ 🏃 运动30分钟 未开始 ○        │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 快捷操作                         │
│ [写日志] [查看统计] [添加习惯]      │
├─────────────────────────────────┤
│ 底部导航栏                       │
└─────────────────────────────────┘
```

#### 交互说明
- **下拉刷新**: 刷新今日数据
- **习惯项点击**: 进入习惯详情页
- **打卡按钮**: 快速打卡，显示成功动画
- **长按习惯**: 显示快捷操作菜单
- **滑动**: 左滑显示更多操作

### 2.2 习惯页面 (Habits Page)
```
习惯页面布局结构:
┌─────────────────────────────────┐
│ App Bar                         │
│ ┌─ 习惯管理 ──── 🔍 [搜索] + ──┐ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 筛选标签栏                       │
│ [全部] [进行中] [已完成] [分类▼]   │
├─────────────────────────────────┤
│ 习惯列表                         │
│ ┌─────────────────────────────┐ │
│ │ ┃ ☀️ 早起                    │ │
│ │ ┃   每日 07:00-08:00          │ │  
│ │ ┃   连续12天 🔥 完成率88%      │ │
│ │ ┃                    ✅ 已完成 │ │
│ ├─────────────────────────────┤ │
│ │ ┃ 💧 喝水8杯                 │ │
│ │ ┃   每日提醒 已喝4杯           │ │
│ │ ┃   连续8天 🔥                │ │
│ │ ┃                     ⭕ 打卡 │ │
│ ├─────────────────────────────┤ │
│ │ ┃ 📖 读书30分钟              │ │
│ │ ┃   每日 20:00-22:00          │ │
│ │ ┃   连续3天 完成率75%          │ │
│ │ ┃                     ⭕ 打卡 │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 悬浮添加按钮 (+)                  │
│ 底部导航栏                       │
└─────────────────────────────────┘
```

#### 交互说明
- **搜索**: 实时搜索习惯名称和描述
- **筛选**: 按状态和分类筛选
- **排序**: 支持按创建时间、重要性等排序
- **左滑**: 显示编辑、删除等操作
- **长按**: 批量操作模式

### 2.3 统计页面 (Statistics Page)
```
统计页面布局结构:
┌─────────────────────────────────┐
│ App Bar                         │
│ ┌─ 统计分析 ──── [时间范围▼] ───┐ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 总览卡片组                       │
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ │
│ │总打卡│ │连击天│ │完成率│ │活跃习│ │
│ │ 127 │ │ 12  │ │ 85% │ │ 5个 │ │
│ │ 次  │ │ 天  │ │     │ │习惯 │ │
│ └─────┘ └─────┘ └─────┘ └─────┘ │
├─────────────────────────────────┤
│ 趋势图表                         │
│ ┌─────────────────────────────┐ │
│ │ 每日完成率趋势                  │ │
│ │     📈                      │ │
│ │ 100% ●─●─●                   │ │
│ │  50%   ●─●─●─●               │ │
│ │   0% ─────────────           │ │
│ │     Mon Tue Wed Thu Fri      │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 热力图日历                       │
│ ┌─────────────────────────────┐ │
│ │ 2024年1月 打卡热力图            │ │
│ │ 一 二 三 四 五 六 日            │ │
│ │ ● ● ○ ● ● ● ●              │ │
│ │ ● ● ● ○ ● ● ●              │ │
│ │ ● ● ● ● ● ○ ●              │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 习惯排行榜                       │
│ ┌─────────────────────────────┐ │
│ │ 🥇 早起      连续12天 完成率90% │ │
│ │ 🥈 喝水      连续8天 完成率85%  │ │
│ │ 🥉 读书      连续3天 完成率75%  │ │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

#### 交互说明
- **时间范围选择**: 本周/本月/本年/自定义
- **图表交互**: 可以点击查看详情
- **日历热力图**: 点击日期查看当日详情
- **排行榜**: 点击进入习惯详情

### 2.4 日志页面 (Journals Page)
```
日志页面布局结构:
┌─────────────────────────────────┐
│ App Bar                         │
│ ┌─ 我的日志 ──── 🔍 [搜索] + ──┐ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 筛选和排序                       │
│ [全部] [今天] [本周] [心情▼] [排序▼] │
├─────────────────────────────────┤
│ 日志时间轴                       │
│ ┌─────────────────────────────┐ │
│ │ 今天 1月15日 ●                │ │
│ │ ┌─────────────────────────┐   │ │
│ │ │ 💪 今天完成了所有习惯!        │ │
│ │ │ 😊 心情很好                 │ │
│ │ │ 关联: 早起、运动、读书        │ │
│ │ │ 📷 [图片] 21:30            │ │
│ │ └─────────────────────────┘   │ │
│ │ 昨天 1月14日 ●                │ │
│ │ ┌─────────────────────────┐   │ │
│ │ │ 📚 读完了一本很棒的书         │ │
│ │ │ 😐 心情一般，有点累          │ │
│ │ │ 关联: 读书                  │ │
│ │ │ 20:45                      │ │
│ │ └─────────────────────────┘   │ │
│ │ 1月13日 ●                    │ │
│ │ ┌─────────────────────────┐   │ │
│ │ │ 🏃 晨跑感觉很棒              │ │
│ │ │ 😄 心情非常好               │ │
│ │ │ 关联: 运动                  │ │
│ │ │ 07:30                      │ │
│ │ └─────────────────────────┘   │ │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

#### 交互说明
- **搜索**: 搜索日志标题和内容
- **筛选**: 按日期、心情、关联习惯筛选
- **时间轴**: 按日期倒序排列
- **点击日志**: 进入日志详情页
- **长按**: 显示快捷操作

### 2.5 设置页面 (Settings Page)
```
设置页面布局结构:
┌─────────────────────────────────┐
│ App Bar                         │
│ ┌─ 设置 ────────────────────────┐ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 个人信息                         │
│ ┌─────────────────────────────┐ │
│ │ 👤 [头像]    用户昵称           │ │
│ │              今日完成 3/5      │ │  
│ │              总连击 12天 🔥    │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 应用设置                         │
│ ┌─────────────────────────────┐ │
│ │ 🔔 通知提醒           >        │ │
│ │ 🎨 主题外观           >        │ │
│ │ 🌐 语言设置           >        │ │
│ │ 📅 日历设置           >        │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 数据管理                         │
│ ┌─────────────────────────────┐ │
│ │ 💾 数据备份           >        │ │
│ │ 📤 数据导出           >        │ │
│ │ 📥 数据导入           >        │ │
│ │ 🔄 数据同步           >        │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 隐私安全                         │
│ ┌─────────────────────────────┐ │
│ │ 🔒 隐私设置           >        │ │
│ │ 🔐 应用锁定           >        │ │
│ │ 📍 位置权限           >        │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 关于应用                         │
│ ┌─────────────────────────────┐ │
│ │ ℹ️ 应用信息           >        │ │
│ │ 📝 用户协议           >        │ │
│ │ 🛡️ 隐私政策           >        │ │
│ │ ⭐ 评价应用           >        │ │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

## 3. 详情页面设计

### 3.1 习惯详情页
```
习惯详情页布局结构:
┌─────────────────────────────────┐
│ App Bar                         │
│ ┌─ < 早起 ────────── ⋮ [更多] ──┐ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 习惯基本信息                      │
│ ┌─────────────────────────────┐ │
│ │ ☀️ 早起                      │ │
│ │ 每天 07:00-08:00               │ │
│ │ 连续打卡 12天 🔥 最长记录 15天   │ │
│ │ 总计打卡 45次 完成率 88%        │ │
│ │ [今日打卡] [编辑习惯]           │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 进度统计                         │  
│ ┌─────────────────────────────┐ │
│ │ 本周进度: ●●●●●○○               │ │
│ │ 本月完成: 25/31 (81%)          │ │
│ │ 📊 [详细统计]                  │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 打卡日历                         │
│ ┌─────────────────────────────┐ │
│ │ 2024年1月                     │ │
│ │ 日 一 二 三 四 五 六            │ │
│ │ ○ ● ● ○ ● ● ●              │ │
│ │ ● ● ● ○ ● ● ●              │ │
│ │ ● ● ● ● ● [今] ○            │ │
│ └─────────────────────────────┘ │  
├─────────────────────────────────┤
│ 相关日志                         │
│ ┌─────────────────────────────┐ │
│ │ 📝 相关的日志记录 (3篇)         │ │
│ │ • 今天早起成功，心情很好!        │ │
│ │ • 坚持早起让我更有精神          │ │
│ │ • 早起看日出，美好的一天        │ │
│ │ [查看全部]                     │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 最近打卡记录                      │
│ ┌─────────────────────────────┐ │
│ │ 今天 07:15 ✅ 准时起床         │ │
│ │ 昨天 07:30 ✅ 有点晚但还不错    │ │  
│ │ 1/13 - ❌ 睡过头了           │ │
│ │ [查看历史记录]                  │ │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

### 3.2 日志详情页
```
日志详情页布局结构:
┌─────────────────────────────────┐
│ App Bar                         │
│ ┌─ < 今天完成了所有习惯 ⋮ [更多] ─┐ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 日志头部信息                      │
│ ┌─────────────────────────────┐ │
│ │ 😊 今天 1月15日 21:30          │ │
│ │ 🏷️ [成长] [开心] [打卡]        │ │
│ │ 🌤️ 天气晴朗                   │ │
│ │ 📍 北京市朝阳区                 │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 日志内容                         │
│ ┌─────────────────────────────┐ │
│ │ 今天完成了所有的习惯打卡，感觉    │ │
│ │ 非常棒！早起看了日出，喝足了8    │ │
│ │ 杯水，晚上还读了30分钟书。       │ │
│ │ 运动虽然累但是很有成就感。       │ │  
│ │                               │ │
│ │ 坚持真的很重要，每天一点点进步   │ │
│ │ 就是最好的成长。明天继续加油！   │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 关联的习惯                       │
│ ┌─────────────────────────────┐ │
│ │ 关联的习惯 (4个)                │ │
│ │ ☀️ 早起      ✅ 已完成         │ │
│ │ 💧 喝水8杯   ✅ 已完成         │ │
│ │ 🏃 运动30分钟 ✅ 已完成         │ │
│ │ 📖 读书30分钟 ✅ 已完成         │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 图片和媒体                       │
│ ┌─────────────────────────────┐ │
│ │ 📷 图片 (2张)                  │ │
│ │ [图片1] [图片2]                │ │
│ │ 🎵 语音记录 (1分30秒)          │ │
│ │ [▶️ 播放语音记录]              │ │
│ └─────────────────────────────┘ │  
├─────────────────────────────────┤
│ 操作按钮                         │
│ │ [编辑] [分享] [删除]            │ │
└─────────────────────────────────┘
```

## 4. 创建/编辑页面设计

### 4.1 创建习惯页面
```
创建习惯页面布局结构:
┌─────────────────────────────────┐
│ App Bar                         │
│ ┌─ < 新建习惯 ──────── [保存] ──┐ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 基本信息                         │
│ ┌─────────────────────────────┐ │
│ │ 习惯名称 *                     │ │
│ │ [输入框: 请输入习惯名称]        │ │
│ │ 习惯描述                       │ │
│ │ [输入框: 简单描述一下这个习惯]   │ │
│ │ 选择图标                       │ │
│ │ ☀️ 💧 🏃 📖 🎵 🍎 ❤️ 🎯      │ │
│ │ 选择分类                       │ │
│ │ [下拉选择: 健康 ▼]             │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 时间设置                         │
│ ┌─────────────────────────────┐ │
│ │ 重复周期                       │ │
│ │ ○ 每天 ○ 每周 ○ 自定义         │ │
│ │ 时间范围 (可选)                │ │
│ │ [07:00] 到 [08:00]            │ │
│ │ 持续时间 (可选)                │ │
│ │ [30] 分钟                     │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 目标设置                         │
│ ┌─────────────────────────────┐ │
│ │ 重要性                         │ │
│ │ ⭐ ⭐ ⭐ ☆ ☆                  │ │
│ │ 难度等级                       │ │
│ │ ○ 简单 ● 中等 ○ 困难           │ │
│ │ 目标天数 (可选)                │ │
│ │ [30] 天                       │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 提醒设置                         │
│ ┌─────────────────────────────┐ │
│ │ 🔔 开启提醒 [开关]              │ │
│ │ 提醒时间                       │ │
│ │ + 添加提醒时间                  │ │
│ │ 🔊 声音提醒 [开关]             │ │
│ │ 📳 震动提醒 [开关]             │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 模板快速创建                      │
│ ┌─────────────────────────────┐ │
│ │ 📋 使用模板创建                │ │
│ │ [早起] [喝水] [运动] [读书] [更多] │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

### 4.2 创建日志页面
```  
创建日志页面布局结构:
┌─────────────────────────────────┐
│ App Bar                         │
│ ┌─ < 写日志 ──────────[保存] ──┐ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 日志信息                         │
│ ┌─────────────────────────────┐ │
│ │ 标题                          │ │
│ │ [输入框: 今天做了什么?]         │ │
│ │ 日期 📅 [2024-01-15] 心情 😊   │ │
│ │ 天气 ☀️ [晴朗]  位置 📍 [北京]  │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 正文内容                         │
│ ┌─────────────────────────────┐ │
│ │ [大文本输入框]                  │ │
│ │ 记录今天的感受、思考或者发生的    │ │
│ │ 有趣事情...                    │ │
│ │                               │ │
│ │ [富文本工具栏]                  │ │
│ │ B I U 📷 🎤 😊               │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 关联习惯                         │
│ ┌─────────────────────────────┐ │
│ │ 🔗 关联今天的习惯               │ │
│ │ ☑️ 早起      ☑️ 喝水8杯       │ │
│ │ ☑️ 运动30分钟 ☐ 读书30分钟     │ │
│ │ + 添加其他习惯                  │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 标签和分类                       │
│ ┌─────────────────────────────┐ │
│ │ 🏷️ 添加标签                   │ │
│ │ [成长] [开心] [打卡] + 自定义    │ │
│ │ 📂 分类                       │ │
│ │ [下拉选择: 日常记录 ▼]          │ │
│ └─────────────────────────────┘ │
├─────────────────────────────────┤
│ 媒体添加                         │
│ ┌─────────────────────────────┐ │
│ │ 📷 添加图片   🎤 录音   📹 视频  │ │
│ │ [已添加的媒体预览区域]           │ │
│ └─────────────────────────────┘ │
└─────────────────────────────────┘
```

## 5. 交互流程设计

### 5.1 打卡流程
```
打卡流程:
用户点击打卡按钮
    ↓
判断是否在允许时间范围内
    ↓ (是)
显示打卡确认界面
├─ 快速打卡 (直接完成)
└─ 详细打卡 (填写备注、心情、图片等)
    ↓
保存打卡记录
    ↓  
更新习惯统计数据
    ↓
显示打卡成功动画
    ↓
检查是否获得成就
    ↓ (是)
显示成就获得弹窗
    ↓
返回主界面，刷新状态
```

### 5.2 习惯创建流程
```
习惯创建流程:
用户点击添加习惯
    ↓
选择创建方式
├─ 从模板创建 → 选择模板 → 自定义修改
└─ 从零创建 → 填写基本信息
    ↓
设置时间和周期
    ↓
配置提醒和目标
    ↓
预览习惯设置
    ↓
保存习惯
    ↓
添加到习惯列表
    ↓
显示创建成功提示
```

### 5.3 日志创建流程
```
日志创建流程:
用户点击写日志
    ↓
选择日志类型
├─ 快速记录 (简单模板)
└─ 详细记录 (完整编辑器)
    ↓
填写标题和内容
    ↓
选择关联习惯
    ↓ (自动推荐今日已打卡习惯)
添加标签和分类
    ↓
上传图片/录音等媒体
    ↓
预览日志内容
    ↓
保存日志
    ↓
更新习惯关联关系
    ↓
显示保存成功提示
```

## 6. 响应式设计适配

### 6.1 小屏适配 (< 360dp)
```
小屏设备适配:
├─ 减少卡片内边距至12dp
├─ 文字大小适当缩小
├─ 隐藏非核心信息
├─ 简化导航结构  
├─ 使用底部抽屉替代侧边栏
└─ 优先显示核心功能
```

### 6.2 大屏适配 (> 768dp)
```
大屏设备适配:
├─ 使用多列布局
├─ 侧边栏导航
├─ 增加内容密度
├─ 显示更多信息
├─ 使用对话框替代全屏页面
└─ 添加快捷操作
```

### 6.3 横屏适配
```
横屏模式适配:
├─ 调整布局为左右分栏
├─ 导航栏移至左侧或顶部
├─ 增加内容区域宽度
├─ 优化输入体验
└─ 保持核心操作便捷性
```

这个页面结构和交互设计文档为打卡习惯应用提供了完整的界面设计指导，确保用户体验的一致性和易用性。